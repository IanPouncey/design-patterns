<!DOCTYPE html>

<html lang="en">

<head>
<title>Accessible disclosure design pattern</title>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="css/basic.css">
<link rel="stylesheet" type="text/css" href="css/disclosure.css">
<script type="text/javascript" src="js/disclosure.js"></script>
</head>

<body>
<h1>Accessible disclosure design pattern</h1>

<p>The disclosure widget on this page has been created using <code>&lt;span&gt;</code> and <code>&lt;div&gt;</code> elements, with scripting to provide the expected behaviour. This design pattern also includes accessibility
features.</p>

<h2>Disclosure example</h2>

<div id="example">
<span id="button" tabindex="0" role="button" aria-expanded="false" aria-controls="content" onclick="javascript:toggleContent(event);" onkeyup="handleOnKeyUp(event);">Foo</span>
<div id="content" aria-hidden="true">
<p>Lorem ipsum dolar sit amet...</p>
</div>
</div>

<h2>Disclosure code</h2>

<div>
<pre><code>
&lt;span id="button" tabindex="0" role="button" aria-expanded="false" aria-controls="content" onclick="javascript:toggleContent(event);" onkeyup="handleOnKeyUp(event);"&gt;Foo&lt;/span>

&lt;div id="content" aria-hidden="true"&gt;
&lt;p&gt;Lorem ipsum dolar sit amet...&lt;/p&gt;
&lt;/div&gt;
</code></pre>
</div>

<h2>Disclosure notes</h2>

<p>Uses the HTML <a href="http://www.paciellogroup.com/blog/2014/08/using-the-tabindex-attribute/">tabindex</a> attribute with a value of 0. This places the button control into the tab order based on its location in the source order. The visual appearance of the button now changes when focus moves to it.</p>

<p>Keyboard interaction for the button control is handled through scripting. Both enter and space key events are captured, and used to trigger the button's expected behaviour.</p>

<p>The <a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-expanded">aria-expanded</a> attribute is used to indicate the state of the disclosure widget. It is applied to the button control so that assistive technologies can determine the state of the disclosure widget whether it is expanded or collapsed. It is initially set to false (collapsed), then scripted to toggle between true (expanded) and false whenever the button control is activated.</p>

<p>The <a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-controls">aria-controls</a> attribute is used to create a relationship between the button control and the content. The attribute takes the idref of the <code>&lt;div&gt;</code> containing the content as a value. Some assistive technologies provide key commands for moving focus from the button control to the disclosed content.</p>

<p>The <a href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-hidden">aria-hidden</a> attribute is used to indicate the state of the disclosure content. It is used regardless of the technique used to toggle the content's visibility. The attribute is initially set to true (hidden), then scripted to toggle between false (not hidden) and true whenever the button control is activated.</p>

<p>The visual appearance of the button control when pressed (or not) is hooked to the aria-expanded attribute. Similarly the visibility of the disclosure content is hooked to the aria-hidden attribute using <a href="http://www.smashingmagazine.com/2013/08/20/semantic-css-with-intelligent-selectors">CSS attribute selectors</a> instead of class names. Although this does not affect accessibility, it creates a cleaner separation between structure and design.</p>

</body>
</html>